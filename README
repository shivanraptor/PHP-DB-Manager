//=====================//
// PHP-DB-Manager v1.3 //
//=====================//
PHP DB Manager aims to provide easy-to-use wrapper for MySQL database.
Features:
- UTF-8 Connection
- Support Transaction
- Support Prepared Statement ( new in v1.3 )
- Support MySQLi PHP driver
- Support MSSQL PHP driver ( new in v1.2 )
- Support custom port

Requirements:
- PHP v5.0+ ( v5.3+ recommended )
- MySQL v4.1+
- PHP MySQLi module enabled

== 3-Step Easy Setup ================

Step 1:
Put the "lib" folder at the same folder of your PHP code

Step 2:
Open "lib/config.inc.php" to configure the connection parameters to MySQL database
Parameters explained:
db_user : user name of MySQL database account
db_pass : password of MySQL database account
db_host : host name / IP of MySQL database ( in most cases, it is "localhost" )
db_schm : the desired schema of MySQL database
db_encoding : encoding of MySQL database connection
db_prefix : table prefix of MySQL database tables ( see Example 1 below )

Step 3:
Include the DB Manager to your codes and follow the sample codes to write your logic


== Parameters of constructor ========

host 		: Host of MySQL server , e.g. localhost or 192.168.1.123 ( make sure TCP/IP connection of MySQL server is enabled )
user 		: Username
pass		: Password
_debugMode	: Debug mode ( set TRUE to enable , set FALSE to disable )
charSet		: Character set of connection ( defaults to UTF-8 )
autoCommit	: Transaction Auto Commit mode ( set TRUE to enable , set FALSE to disable )
port		: Server Port of MySQL server ( defaults to 3306 , standard port of MySQL server )
persistent	: Persistent Connection mode ( set TRUE to enable , set FALSE to disable )


== Sample Code ======================
// -------------------------------
// Example 1: Simple SELECT action
// -------------------------------

// DBManager - Include the Library
require_once('lib/config.inc.php');
require_once('lib/db.manager.mysqli.php');

// DBManager - Initialization
$db = new dbManager(db_host, db_user, db_pass, db_schm);

// DBManager - Query & Get the result
$sql = "SELECT * FROM " . db_prefix . "example";
$rs = $db->query($sql);
while($row = $db->result($rs)) {
	// do your action here, for example...
	echo $row['action_id'];
}

// -------------------------------
// Example 2: Simple INSERT action
// -------------------------------
// DBManager - Include the Library
require_once('lib/config.inc.php');
require_once('lib/db.manager.mysqli.php');

// DBManager - Initialization
$db = new dbManager(db_host, db_user, db_pass, db_schm);

// DBManager - Query & Get the result
$sql = "INSERT INTO tbl_example VALUES ($value1, '$value2')";
$db->query($sql);

$row_id = $db->insert_id();


== Other Functions ==================

1. Backward compatible version:
   $db = new dbManager(db_host, db_user, db_pass, db_schm);
   
2. Support of charaset, disable debug message
   $db = new dbManager(db_host, db_user, db_pass, db_schm, FALSE, 'utf8');
   
3. To check connection error:
   if($db->error !== NULL) {
	   // error exists
   }
   
4. Escape String
   $db->escape_string($str);
   
5. Use MySQLi PHP functions directly, e.g. mysqli::rollback()
   $db->mysqli->rollback();
6. Prepared Statement
   $sql = "SELECT field_name1, field_name2 FROM table_name WHERE id = ?"; 	// cannot use "SELECT *"
   $params = array('i' => 1); 												// i = integer , d = double , s = string , b = blob
   $result = $db->query_prepare($sql, $params);
   if (version_compare(PHP_VERSION, '5.3.0') >= 0) {
	   $row = $db->result($result);
	   echo $row['field_name1'];
   } else {
	   foreach($result as $row) {
		   echo $row['field_name1'] . ' ' .$row['field_name2'];
	   }
   }

== Version History ==================
v1.0
- initial release
v1.1
- add custom server port support
- add persistent connection support
v1.2
- add fetch_object() support
v1.3
- add function query_prepare($sql, $params);

== Program History ==================
original dbManager for MySQL by Raptor Kwok
original dbManager for MySQLi by Hoyu

Feel free to use, but kindly leave this statement here.


== Technical Support ================
findme@raptor.hk ( please specify dbManager for MySQLi )